<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width">
	<title><%= title %></title>
	<link rel="stylesheet" href="/stylesheets/bootstrap.min.css"/>
	<link rel="stylesheet" href="/stylesheets/honeySwitch.css"/>
	<link rel="stylesheet" href="/stylesheets/font-awesome/css/font-awesome.min.css">
	<!--[if IE 7]>
	<link rel="stylesheet" href="/stylesheets/font-awesome/css/font-awesome-ie7.min.css">
	<![endif]-->
	<style type="text/css">
		.parent-plugin {
			padding-bottom: 10px;
		}
	</style>
</head>
<body >
	<div class="container content-wrapper">
		<header class="text-center navbar navbar-static-top bs-docs-nav">
			<h1>物联网视频监控、设备控制、数据采集</h1>
		</header><!-- /header -->
		<div class="row">
			<ul class="nav nav-tabs">
			  <li role="presentation" class="active"><a href="#video-control" data-toggle="tab">视频监控</a></li>
			  <li role="presentation"><a href="#devices-control" data-toggle="tab">设备控制</a></li>
			  <li role="presentation"><a href="#data-gathering" data-toggle="tab">数据采集</a></li>
			</ul>
			<div  class="tab-content">
				<!-- 视频监控 start -->
				<div class="video-control tab-pane fade in active" id="video-control">
					<header><h2>视频监控</h2></header>
					<!-- 视频监控画面 start -->
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 parent-plugin text-center">
						<fieldset class="ptz col-lg-4 col-md-4 col-sm-4 col-xs-4">
							<legend class="bg-warning text-center">PTZ control</legend>
							<table class="table table-condensed table-hover table-bordered">
								<tr>
									<td>
										<button type="button" class="btn btn-danger" onmousedown="mouseDownPTZControl(5);" onmouseup="mouseUpPTZControl();"><i class="icon icon-arrow-left"></i> Up-left</button>
										<button type="button" class="btn btn-danger" onmousedown="mouseDownPTZControl(1);" onmouseup="mouseUpPTZControl();"><i class="icon icon-arrow-up"></i> Up</button>
										<button type="button" class="btn btn-danger" onmousedown="mouseDownPTZControl(7);" onmouseup="mouseUpPTZControl();">Up-right <i class="icon icon-arrow-right"></i></button>
									</td>
								</tr>
								<tr>
									<td>
										<button type="button" class="btn btn-success" onmousedown="mouseDownPTZControl(3);" onmouseup="mouseUpPTZControl();"><i class="icon icon-circle-arrow-left"></i> Left</button>
										<button type="button" class="btn btn-success" onclick="mouseDownPTZControl(9);"><i class="icon  icon-screenshot"></i> Auto</button>
										<button type="button" class="btn btn-success" onmousedown="mouseDownPTZControl(4);" onmouseup="mouseUpPTZControl();" >Right <i class="icon  icon-circle-arrow-right"></i></button>
									</td>
								</tr>
								<tr>
									<td>
										<button type="button" class="btn btn-success" onmousedown="mouseDownPTZControl(6);" onmouseup="mouseUpPTZControl();" ><i class="icon icon-arrow-left"></i> Down-left</button>
										<button type="button" class="btn btn-success"  onmousedown="mouseDownPTZControl(2);" onmouseup="mouseUpPTZControl();" ><i class="icon icon-arrow-down"></i> Down</button>
										<button type="button" class="btn btn-success" onmousedown="mouseDownPTZControl(8);" onmouseup="mouseUpPTZControl();">Down-right <i class="icon icon-arrow-right"></i></button>
									</td>
								</tr>
							</table>
							<table class="table table-condensed table-hover table-bordered">
								<tr>
									<td >PTZ speed</td>
									<td>
										<select id="ptzspeed" class="form-control">
											<option>1</option>
											<option>2</option>
											<option>3</option>
											<option selected>4</option>
											<option>5</option>
											<option>6</option>
											<option>7</option>
										</select>
									</td>
								</tr>
								<tr>
									<td >Preset</td>
									<td><input id="preset" type="text" class="form-control" value="1" /></td>
								</tr>
								<tr>
									<td colspan="2">
										<input type="button" class="btn btn-primary" value="Set" onclick="clickSetPreset();" />
										<input type="button" class="btn btn-danger" value="Call" onclick="clickGoPreset();" />
									</td>
								</tr>
							</table>
					        <table class="table table-condensed table-hover table-bordered">
					            <tr>
					                <td ><input type="button" class="btn btn-success" value="Zoom+" onmousedown="PTZZoomIn()" onmouseup="PTZZoomStop()"></td>
					                <td><input type="button" class="btn btn-success" value="Zoom-" onmousedown="PTZZoomout()" onmouseup="PTZZoomStop()"></td>
					            </tr>
					            <tr>
					                <td ><input type="button" class="btn btn-success" value="Focus+" onmousedown="PTZFocusIn()" onmouseup="PTZFoucusStop()"></td>
					                <td><input type="button" class="btn btn-success" value="Focus-" onmousedown="PTZFoucusOut()" onmouseup="PTZFoucusStop()"></td>
					            </tr>
					            <tr>
					                <td ><input type="button" class="btn btn-success" value="Iris+" onmousedown="PTZIrisIn()" onmouseup="PTZIrisStop()"></td>
					                <td><input type="button" class="btn btn-success" value="Iris-" onmousedown="PTZIrisOut()" onmouseup="PTZIrisStop()"></td>
					            </tr>
					        </table>
						</fieldset>
						<div id="divPlugin" class="plugin col-lg-8 col-md-8 col-sm-8 col-xs-8"></div>
					</div>
					<!-- 视频监控画面 end -->
					<!-- 视频监控控制栏  start -->
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
						<fieldset class="login col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Login</legend>
							<table  class="table table-condensed table-hover table-bordered">
								<tr>
									<td >IP address</td>
									<td><input id="loginip" type="text" class="form-control" value="" /></td>
									<td >Port</td>
									<td><input id="port" type="text" class="form-control" value="" /></td>
								</tr>
								<tr>
									<td >User name</td>
									<td><input id="username" type="text" class="form-control" value="admin" /></td>
									<td >Password</td>
									<td><input id="password" type="password" class="form-control" value="" /></td>
								</tr>
								<tr>
									<td >Device port</td>
									<td colspan="2"><input id="deviceport" type="text" class="form-control" value="8000" />（optional）</td>
									<td>
										Split screen&nbsp;
										<select class="form-control" onchange="changeWndNum(this.value);">
											<option value="1">1x1</option>
											<option value="2" selected>2x2</option>
											<option value="3">3x3</option>
											<option value="4">4x4</option>
										</select>
									</td>
								</tr>
								<tr>
									<td colspan="4">
										<input type="button" class="btn btn-primary" value="Login" onclick="clickLogin();" />
										<input type="button" class="btn btn-success" value="Logout" onclick="clickLogout();" />
										<input type="button" class="btn btn-info" value="Get basic info" onclick="clickGetDeviceInfo();" />
									</td>
								</tr>
								<tr>
									<td >Logined devices</td>
									<td>
										<select id="ip" class="form-control" onchange="getChannelInfo();"></select>
									</td>
									<td >Channel list</td>
									<td>
										<select id="channels" class="form-control"></select>
									</td>
								</tr>
							</table>
						</fieldset>	
						<fieldset class="ipchannel col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Digital channel</legend>
							<table class="table table-condensed table-hover table-bordered">
								<tr>
									<td><input type="button" class="btn btn-danger" value="Get digital channel list" onclick="clickGetDigitalChannelInfo();" /></td>
								</tr>
								<tr>
									<td>
										<div class="digitaltdiv">
											<table id="digitalchannellist" class="digitalchannellist table table-condensed table-hover table-bordered" ></table>
										</div>
									</td>
								</tr>
							</table>
						</fieldset>	
						<fieldset class="preview col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Browse</legend>
							<table  class="table table-condensed table-hover table-bordered">
								<tr>
									<td >Stream type</td>
									<td>
										<select id="streamtype" class="form-control">
											<option value="1">Main stream</option>
											<option value="2">Sub stream</option>
										</select>
									</td>
									<td>
										<input type="button" class="btn btn-success" value="Start preview" onclick="clickStartRealPlay();" />
										
										<input type="button" class="btn btn-primary" value="Stop preview" onclick="clickStopRealPlay();" />
									</td>
								</tr>
								<tr>
									<td >Volume</td>
									<td>
										<input type="text" id="volume" class="form-control" value="50" maxlength="3" />&nbsp;<input type="button" class="btn btn-info" value="Set" onclick="clickSetVolume();" /><span class="text-danger">(Range：0~100)</span>
									</td>
									<td>
										<input type="button" class="btn btn-success" value="Audio On" onclick="clickOpenSound();" />
										<input type="button" class="btn btn-primary" value="Audio Off" onclick="clickCloseSound();" />
									</td>
								</tr>
								<tr>
									<td >Voice channel</td>
									<td>
										<select id="audiochannels" class="form-control">
											
										</select>
										<input type="button" class="btn btn-info" value="Get channel" onclick="clickGetAudioInfo();" />
									</td>
									<td>
										<input type="button" class="btn btn-success" value="Voice Talk" onclick="clickStartVoiceTalk();" />
										<input type="button" class="btn btn-primary" value="Stop Voice Talk" onclick="clickStopVoiceTalk();" />
									</td>
								</tr>
								<tr>
									<td colspan="3">
										<input type="button" class="btn btn-info" value="Capture" onclick="clickCapturePic();" />
										<input type="button" class="btn btn-info" value="Start recording" onclick="clickStartRecord();" />
										<input type="button" class="btn btn-info" value="Stop recording" onclick="clickStopRecord();" />
										<input type="button" class="btn btn-info" value="Full screen" onclick="clickFullScreen();" />
									</td>
								</tr>
								<tr>
									<td colspan="3">
										<input type="button" class="btn btn-info" value="Enable E zoom" onclick="clickEnableEZoom();" />
										<input type="button" class="btn btn-info" value="Disable E zoom" onclick="clickDisableEZoom();" />
										<input type="button" class="btn btn-info" value="Enable 3D zoom" onclick="clickEnable3DZoom();" />
										<input type="button" class="btn btn-info" value="Disable 3D zoom" onclick="clickDisable3DZoom();" />
									</td>
								</tr>
							</table>
						</fieldset>
						<fieldset class="operate col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Operation information</legend>
							<div id="opinfo" class="opinfo"></div>
						</fieldset>
						<fieldset class="callback col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Event callback information</legend>
							<div id="cbinfo" class="cbinfo"></div>
						</fieldset>	
						<fieldset class="playback col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">Playback</legend>
							<table class="table table-condensed table-hover table-bordered">
								<tr>
									<td >Start time</td>
									<td>
										<input id="starttime" type="text" class="form-control" value="2013-12-10 00:00:00" />
										<span class="text-danger">(Time format:2013-11-11 12:34:56)</span>
									</td>
								</tr>
								<tr>
									<td >End time</td>
									<td>
										<input id="endtime" type="text" class="form-control" value="2013-12-11 23:59:59" />
										<input type="button" class="btn btn-success" value="Search" onclick="clickRecordSearch(0);" />
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<div class="searchdiv">
											<table id="searchlist" class="searchlist" cellpadding="0" cellspacing="0" border="0"></table>
										</div>
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<input type="button" class="btn btn-info" value="Start play" onclick="clickStartPlayback();" />
										<input type="button" class="btn btn-info" value="Stop play" onclick="clickStopPlayback();" />
										<input type="button" class="btn btn-info" value="Reverse play" onclick="clickReversePlayback();" />
										<input type="button" class="btn btn-info" value="Single frame" onclick="clickFrame();" />
										<input id="transstream" type="checkbox" />&nbsp;Enable TransCode Stream
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<input type="button" class="btn btn-info" value="Pause" onclick="clickPause();" />
										<input type="button" class="btn btn-info" value="Resume" onclick="clickResume();" />
										<input type="button" class="btn btn-info" value="Slow forward" onclick="clickPlaySlow();" />
										<input type="button" class="btn btn-info" value="Fast forward" onclick="clickPlayFast();" />
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<input type="button" class="btn btn-info" value="Capture" onclick="clickCapturePic();" />
										<input type="button" class="btn btn-info" value="Start clip" onclick="clickStartRecord();" />
										<input type="button" class="btn btn-info" value="Stop clip" onclick="clickStopRecord();" />
										<input type="button" class="btn btn-info" value="OSD time" onclick="clickGetOSDTime();" />&nbsp;
										<input id="osdtime" type="text" class="form-control" readonly />
									</td>
								</tr>
							</table>
						</fieldset>
						<fieldset class="maintain col-lg-4 col-md-4 col-sm-4 col-xs-12">
							<legend class="bg-warning text-center">System maintenance</legend>
							<table class="table table-condensed table-hover table-bordered">
								<tr>
									<td>
										<input type="button" class="btn btn-info" title="Export configuring files" value="Export configuring files" onclick="clickExportDeviceConfig();" />
										<input type="button" class="btn btn-info" title="Detect plugin version" value="Detect plugin version" onclick="clickCheckPluginVersion();" />
										<input type="button" class="btn btn-info" title="Remote configure" value="Remote configure" onclick="clickRemoteConfig();" />
					                    <input type="button" class="btn btn-info" title="Restore the default parameters" value="Restore the default parameters" onclick="clickRestoreDefault();" />
									</td>
								</tr>
								<tr>
									<td>
										<input id="configFile" type="text" class="form-control" />&nbsp;<input type="button" class="btn" value="Browse" onclick="clickOpenFileDlg('configFile', 1);" />&nbsp;<input type="button" class="btn btn-info" value="Import configuring files" onclick="clickImportDeviceConfig();" />
									</td>
								</tr>
								<tr>
									<td>
										<input id="upgradeFile" type="text" class="form-control" />&nbsp;<input type="button" class="btn" value="Browse" onclick="clickOpenFileDlg('upgradeFile', 1);" />&nbsp;<input type="button" class="btn btn-info" value="Upgrade" onclick="clickStartUpgrade();" />
									</td>
								</tr>
							</table>
						</fieldset>				
					</div>
					<!-- 视频监控控制栏 end -->
					<!-- <div class="clearfix"></div> -->
				</div>
				<!-- 视频监控 end -->
				<!-- 设备控制 start -->
				<div class="devices-control tab-pane fade" id="devices-control">
				<!-- 设备管理 start-->
					<header><h2><%= head %></h2></header><!-- /header -->
					<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
						<form class="form-inline">
							<div class="form-group ">						
								<label>开关</label><span class="switch-off" id="device-switch"></span>
							</div>
						  	<button type="submit" class="btn btn-default btn-danger">批量处理</button>
						</form>				
						<table class="table table-hover table-condensed table-bordered">
							<thead>
								<tr>
									<th>ID</th>
									<th>控制类型</th>
									<th>设备名称</th>
									<th>所属地块</th>
									<th>设备图标</th>
									<th>状态</th>
									<th>开关</th>
								</tr>
							</thead>
							<tbody>
								<% if (devicesData.length) { %>  
								    <% devicesData.forEach(function(device){ %>  
								    <% if (device.name != '全开') { %>
									<tr >
										<td><%= device.id %></td>
										<td>控制板(B-100)</td>
										<td><%= device.name %></td>
										<td>四川农业大学2区</td>
										<td><i class="icon icon-<%= device.icon %>"></i></td>
										<td><%= device.status == 1 ? '激活' : '锁定' %></td>
										<td>
											<span class="switch-<%= device.is_on == 2 ? 'on' : 'off' %>" name="device-switch" data-id="<%= device.id %>"></span>
										</td>	
									</tr>				      
								    <% }}) %>   
								<% } %> 																							
							</tbody>
						</table>
					</div>
					<!-- 设备管理 end -->
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
						<header>
							<h2>LED控制</h2>
						</header><!-- /header -->
						<form  method="post" action="/ledControl">
							<div class="form-group">
								<textarea class="form-control" name="led_message" placeholder="请输入需要显示的内容"  cols="20" rows="10"></textarea>
							</div>
							<div class="form-group">
								<button class="btn btn-primary" type="submit">保存</button>
								<button class="btn btn-success" type="">取消</button>
							</div>
						</form>
					</div>				
				</div>
				<!-- 设备控制 end -->
				<!-- 数据采集 start -->
				<div  class="data-gathering fade tab-pane " id="data-gathering">
					<img src="/images/waiting.jpg" width="100%" />
				</div>
				<!-- 数据采集 end -->
			</div>
		</div>
	</div>
	<script src="/javascripts/vendor/jquery.min.js"></script>
	<script src="/javascripts/vendor/bootstrap.min.js"></script>
	<script src="/javascripts/vendor/honeySwitch.js"></script>
	<script src="/javascripts/layer/layer.js"></script>
	<script src="/javascripts/vendor/codebase/webVideoCtrl.js"></script>
	<script src="/javascripts/vendor/hk-control.js"></script>
	<script src='/javascripts/main.js'></script>
</body>
</html>